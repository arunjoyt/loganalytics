[
 {
  "allow_guest": 0,
  "api_method": null,
  "cron_format": null,
  "disabled": 0,
  "docstatus": 0,
  "doctype": "Server Script",
  "doctype_event": "Before Insert",
  "enable_rate_limit": 0,
  "event_frequency": "Hourly",
  "modified": "2025-09-26 18:26:38.738618",
  "module": "Log Analytics",
  "name": "Pull Route History",
  "rate_limit_count": 5,
  "rate_limit_seconds": 86400,
  "reference_doctype": null,
  "script": "remote_site = \"https://crm.22logic.com\"\napi_key = \"787ae7e3751164e\"\napi_secret = \"6a2f20db69f9749\"\n\nresponse = frappe.make_get_request(\n        url=f\"{remote_site}/api/resource/Route History\",\n        headers={\n            \"Authorization\": f\"token {api_key}:{api_secret}\"\n        }\n    )\n\nroute_history_list = response[\"data\"]\nfrappe.log_error(\"route_history_list\",route_history_list)\n\nfor route_history in route_history_list:\n    name = route_history[\"name\"]\n    route_history_doc = frappe.make_get_request(\n        url=f\"{remote_site}/api/resource/Route History/{name}\",\n        headers={\n            \"Authorization\": f\"token {api_key}:{api_secret}\"\n        }\n        )[\"data\"]\n    frappe.get_doc({\n            \"doctype\": \"LA Route History\",\n            \"site\": remote_site, \n            \"id\": route_history_doc[\"name\"],\n            \"route\": route_history_doc[\"route\"],\n            \"user\": route_history_doc[\"user\"]\n        }).insert()\n\n",
  "script_type": "Scheduler Event"
 },
 {
  "allow_guest": 0,
  "api_method": null,
  "cron_format": null,
  "disabled": 0,
  "docstatus": 0,
  "doctype": "Server Script",
  "doctype_event": "Before Insert",
  "enable_rate_limit": 0,
  "event_frequency": "Hourly",
  "modified": "2025-09-29 17:59:41.983649",
  "module": "Log Analytics",
  "name": "sync_log_data",
  "rate_limit_count": 5,
  "rate_limit_seconds": 86400,
  "reference_doctype": null,
  "script": "frappe.call(\"loganalytics.api.sync_log_data\")",
  "script_type": "Scheduler Event"
 }
]